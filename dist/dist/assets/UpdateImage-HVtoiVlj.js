import{r as n,k as j,j as e,M as N,B as t,d as b,A as v}from"./index-BzYBcspH.js";const F=({CloseProfileModal:r})=>{var c;const[i,m]=n.useState(null),[x,p]=n.useState(""),[o,g]=n.useState(""),u=(c=j().state)==null?void 0:c.userId,h=a=>{const s=a.target.files[0];if(!s){alert("Please select a file!");return}const y=2*1024*1024;if(s.size>y){t.error("File size exceeds 2MB!");return}m(s);const l=new FileReader;l.onload=()=>{const d=l.result;p(d),g(d)},l.readAsDataURL(s)},f=async()=>{if(!i){t.error("No file selected!");return}const a={name:i.name,user:u,image:x};try{(await b.post(`${v}/api/images`,a)).status===200?(t.success("Profile Image Updated Succesfully"),r()):t.error("Failed to Upload")}catch(s){console.log(s)}};return e.jsx(N,{children:e.jsxs("div",{className:"w-[530px] min-h-[330px] my-3 mx-8 font-extralight font-poppins",children:[e.jsx("p",{className:"text-end text-2xl font-medium",onClick:()=>r(),children:"x"}),e.jsx("p",{className:"mx-16 text-xl my-3",children:"Choose Profile Image"}),e.jsx("div",{className:"relative w-2/3 mx-20",children:e.jsxs("div",{className:"border bg-white rounded-lg py-1.5 my-1 ",children:[e.jsx("div",{className:"absolute inset-y-0  left-0 rounded-lg px-2 py-5 flex items-center  bg-gray-300  pointer-events-none outline-none text-black",children:"Choose Files"}),e.jsx("input",{accept:".jpg,.jpeg,.png,.gif",type:"file",className:"opacity-0 w-28 text-black ",id:"file-input",onChange:h}),e.jsx("span",{className:"absolute top-5 -translate-y-1/2 lg:right-2 md:right-4 right-16 text-normal text-black ",id:"file-name",children:"No Files Chosen"})]})}),o&&e.jsxs("div",{className:"text-center text-lg my-2",children:[e.jsx("p",{className:"text-center text-xl my-2",children:"Preview "}),e.jsx("img",{src:o,alt:"Preview",className:"w-60 mx-auto"})]}),e.jsx("div",{className:"flex justify-center my-8",children:e.jsx("button",{className:" font-normal   bg-gradient-to-r from-[#3D03FA] to-[#A71CD2] text-center w-36 py-2.5 my-2 ",onClick:f,children:"Change Image"})})]})})};export{F as U};
